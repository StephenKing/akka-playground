akka {
  loglevel = "DEBUG"
  loggers = ["akka.testkit.TestEventListener"]

  actor {
    provider = cluster

    deployment {
      /number-producer/consumer-router {
        router = round-robin-pool
        routees.paths = ["/user/number-consumer"]
        cluster {
          enabled = on
          allow-local-routees = on
          use-role = consumer
        }
      }
    }
  }

  remote {
    enabled-transports = ["akka.remote.netty.tcp"]
    netty.tcp {
      hostname = "127.0.0.1"
      # hostname = ${?HOST}
      port = 2551
      port = ${?PORT}
    }
  }

  cluster {
    # must be overriden using parameter
    seed-nodes = [
      "akka.tcp://number-actors@127.0.0.1:2551"
    ]

    # must be overriden using parameter
    # roles = ["seed"]

    role {
      seed.min-nr-of-members = 1
    }
  }
}

kamon {
  akka {
    actor-groups = [ "group-of-actors", "group-of-routees" ]
  }


  metric {
    instrument-factory.custom-settings {
      "akka.actor.mailbox-size" {
        sample-interval = 1 millisecond
      }

      "akka.group.members" {
        sample-interval = 1 millisecond
      }
    }
  }

  util {
    filters = {
      "akka.actor" {
        includes = [ "*/user/**" ]
      }

      "akka.router" {
        includes = [ "*/user/**" ]
        excludes = [ "*/user/tracked-explicitly-excluded-*"]
      }

      "akka.dispatcher" {
        includes = [ "*/user/**" ]
        excludes = [ "explicitly-excluded" ]
      }
    }
  }
}
kamon.prometheus.embedded-server.hostname = 0.0.0.0

kamon.jaeger {
  host = "localhost"
  port = 5775
}

kamino {
  application-name = "playground"
//  api-key = ""
  api-key = ${KAMINO_API_KEY}
}